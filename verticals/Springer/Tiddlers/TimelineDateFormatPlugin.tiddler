<div tiddler="TimelineDateFormatPlugin" modifier="ESpringer" modified="200602040107" created="200602040107" tags="plugins excludeSearch excludeLists">// a hack to pretty up the timeline\nDate.prototype._formatString = Date.prototype.formatString;\nDate.prototype.formatString = function(template) {\n if(template == 'DD MMM YYYY') {\n  var repr = this._formatString('YYYYMMDD');\n  var day = new Date();\n  if(repr == day._formatString('YYYYMMDD'))\n   return 'Today';\n  day.setDate(day.getDate()-1);\n  if(repr == day._formatString('YYYYMMDD'))\n   return 'Yesterday';\n  for(var i=0; i&lt;3; i++) {\n   day.setDate(day.getDate()-1);\n   if(repr == day._formatString('YYYYMMDD'))\n    return config.messages.dates.days[this.getDay()];\n  }\n }\n return this._formatString(template);\n}</div>