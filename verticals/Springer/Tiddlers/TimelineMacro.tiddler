<div tiddler="TimelineMacro" modifier="ESpringer" modified="200512022303" created="200512022303" tags="excludeSearch excludeLists Setup">Tiddler.prototype.getSubtitle_orig_noTime =\nTiddler.prototype.getSubtitle;\nTiddler.prototype.getSubtitle = function()\n{\n     var theModifier = this.modifier;\n     if(!theModifier)\n                theModifier = config.messages.subtitleUnknown;\n      var theModified = this.modified;\n     if(theModified)\n                theModified = theModified.formatString(&quot;MMM DD, YYYY&quot;);\n    else\n                theModified = config.messages.subtitleUnknown;\n      return(theModified);\n}\n\nconfig.macros.timeline.handler = function(place,macroName,params)\n{\n    var tiddlers = store.reverseLookup(&quot;tags&quot;,&quot;excludeLists&quot;,false,&quot;modified&quot;);\n    var lastDay = &quot;&quot;;\n        var nbTLitemmax=44;\n        var nbTLitem=0;\n    for (t=tiddlers.length-1; t&gt;=0; t--)\n        {\n               if (nbTLitem&gt;=nbTLitemmax) break; else nbTLitem++;\n        var tiddler = tiddlers[t];\n        var theDay = tiddler.modified.convertToYYYYMMDDHHMM().substr(0,8);\n        if(theDay != lastDay)\n            {\n            var theDateElement = document.createElement(&quot;span&quot;);\n            var theDateCaption = tiddler.modified.toLocaleDateString();\n            theDateElement.appendChild(document.createTextNode(theDateCaption));\n            place.appendChild(theDateElement);\n            place.appendChild(document.createElement(&quot;br&quot;));\n            lastDay = theDay;\n            }\n        place.appendChild(document.createTextNode(String.fromCharCode(160)));\n        place.appendChild(document.createTextNode(String.fromCharCode(160)));\n        createTiddlyLinkShortened(place,tiddler.title,true);\n        place.appendChild(document.createElement(&quot;br&quot;));\n        }\n}\n\n\nfunction createTiddlyLinkShortened(place,title,includeText)\n{\n    var maxLen = 22;\n    var displayTitle;\n\n    if (title.length &gt; maxLen)\n        displayTitle = title.substring(0,maxLen).trim()+&quot;...&quot;;\n    else\n        displayTitle = title;\n\n    var text = includeText ? displayTitle : null;\n    var subTitle;\n    var tiddler = store.tiddlers[title];\n    if(tiddler)\n        subTitle = tiddler.getSubtitle();\n    else\n        subTitle = title + config.messages.undefinedTiddlerToolTip;\n    var theClass = tiddler ? &quot;tiddlyLinkExisting tiddlyLink&quot; : &quot;tiddlyLinkNonExisting tiddlyLink&quot;;\n    var btn = createTiddlyButton(place,text,subTitle,onClickTiddlerLink,theClass);\n    btn.setAttribute(&quot;tiddlyLink&quot;,title);\n    return(btn);\n}\n</div>