javascript:doit();function doit() { var href=window.location; var charset=window.document.characterSet; var title=window.document.title; var selection=window.getSelection(); var iframe = window.document.createElement('iframe'); iframe.style.display='none'; window.document.body.appendChild(iframe); var idoc = iframe.contentDocument; var form = idoc.createElement('form'); idoc.body.appendChild(form); form.name='twoter'; form.method='POST'; form.action='{{ twoter_url }}'; var charset_input = window.document.createElement('charset'); charset_input.name = 'charset'; charset_input.value = charset; var title_input = window.document.createElement('input'); title_input.name = 'title'; title_input.value = title; var url_input = window.document.createElement('input'); url_input.name = 'url'; url_input.value = href; var snip_input = window.document.createElement('input'); snip_input.name = 'snip'; snip_input.value = selection; var submitter = window.document.createElement('input'); submitter.type = 'submit'; form.appendChild(charset_input); form.appendChild(title_input); form.appendChild(url_input); form.appendChild(snip_input); form.appendChild(submitter);form.submit(); }
