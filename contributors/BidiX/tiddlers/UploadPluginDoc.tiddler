<div tiddler="UploadPluginDoc" modifier="BidiX" modified="200703012120" created="200703012120" tags="Doc Upload" server.host="file:///Volumes/galapagos/Dev/index.html" server.type="file" server.page.version="200703012120">//last update: UploadPlugin v 4.0.0 (Beta 0)//\n\n!Description\nUploadPlugin with &lt;&lt;tag UploadService&gt;&gt; extend TiddlyWiki with @@upload@@ and @@save to web@@ commands. \nUploadPlugin uses Username and Password from UploadOptions stored in cookies to authenticate itself to [[store.php]] or [[store.cgi]].\nFrench translation available as a separate tiddler UploadPluginMsgFR\n\n!!UploadPlugin\n*If the TiddlyWiki is viewed @@from local disk@@ :\n**{{{&lt;&lt;upload ...&gt;&gt;}}}\n***display as '''upload'''\n***after saving to disk, upload to a website.\n*If the TiddlyWiki is viewed @@from a website@@ :\n**{{{&lt;&lt;upload ...&gt;&gt;}}}\n***display as '''save to web'''\n***save to the same website.\n*If GenerateAnRssFeed in AdvancedOptions is set :\n**generate the content of the RSSFeed \n**upload the RssFile\n**Caution : use the SiteUrl tiddler to specify the right url of the TiddlyWiki in the generated RssFile\n*DisplayMessage\n*If a backupDir is specified\n**and if a file already exists in the uploadDir withe the same fielname, move it in the backup dir and rename it with a timestamp\n*if UploadLog is activated every upload action is logged in UploadLog\n**only the last maxLines are stored\n**if maxLine = -1 no truncation will occured \nhint : if UploadLog is the first tiddler in the TimelineTab, no tiddler has been changed since last upload.\n\n!![[store.php]]\n*UserVariables to set :\n//{{{\n$AUTHENTICATE_USER = true; // true | false\n$USERS = array(\n 'UserName1'=&gt;'Password1', \n 'UserName2'=&gt;'Password2', \n 'UserName3'=&gt;'Password3'); // set usernames and strong passwords\n$DEBUG = false; // true | false\n//}}}\n*method GET\n**display an information page\n*method POST\n**if $~AUTHENTICATE_USER is ''true''\n***presence and value of user and password are checked with $USER and $PASSWORD \n**if toFilename already exists and backDir parameter specified\n***rename toFilename to backupDir/toFilename.AAAAMMDD.HHSS.html\n**copy temporaryUploadedFile toFilename\n**return status\n\n!![[store.cgi]]\n*UserVariables to set :\n//{{{\nCONFIG = {\n  :users =&gt; {\n    'UserName1'=&gt;'Password1', \n    'UserName2'=&gt;'Password2', \n    'UserName3'=&gt;'Password3')\n  },\n  :authenticateUser =&gt; true,\n  :backupExistingFile =&gt; true,\n  :withUploadDir =&gt; true\n}\n//}}}\n*same processing as store.php above\n\n!Usage : \n{{{\n&lt;&lt;upload&gt;&gt;\n uses UploadOptions saved in cookies :\n txtUploadUserName: username\n pasUploadPassword : password\n txtUploadStoreUrl : store script\n txtUploadDir : relative path for upload directory\n txtUploadFilename : upload filename\n txtUploadBackupDir : relative path for backup directory\n\n&lt;&lt;upload [storeUrl [toFilename [backupDir [uploadDir [username]]]]]&gt;&gt;\n	Optional positional parameters can be passed to overwrite \n	UploadOptions. \n}}}\n\nSuggestion: Install the {{{&lt;&lt;upload ... &gt;&gt;}}} macro in SideBarOptions just below {{{&lt;&lt;saveChanges&gt;&gt;}}} macro.\n\n\n!User manual\nSee HowToUpload\n\n!Installation :\n*Install the UploadPlugin as usual\n*Upload the [[store.php]] file on your php aware webserver in your TiddlyWiki directory\n*Protect your server against malicious upload. Two approaches :\n**set $~AUTHENTICATE_USER to true in the [[store.php]] script\n***configure $USER and $PASSWORD in the [[store.php]] script on your webserver\n***set UploadOptions in conformity with [[store.php]]\n**Use server protection :\n***for Apache web server ([[for detail see Apache documentation|http://httpd.apache.org/docs/1.3/howto/htaccess.html]]) : \n****configure and upload the [[.htaccess]] [[.passwd]]\n***for other web servers see the appropriate documentation\n*Configure an upload button, for example in the SideBarOptions\n!Suppported Browser\n*Firefox and Gecko based browser: tested Ok\n*Internet Explorer : tested Ok\n*Safari : tested ok on OS X\n*Others : Not tested, please report status.\n\n!Revision history\n&lt;&lt;tiddler UploadPluginRevisionHistory&gt;&gt;\n\n\n</div>
