<html>
<head>

<script type='text/javascript' src='jquery.js'></script>
<script type='text/javascript' src='VismoClickingUtils.js'></script>
<script type='text/javascript' src='VismoShapes.js'></script>
<script type='text/javascript' src='VismoShapesRendering.js'></script>
<script type='text/javascript' src='VismoClicking.js'></script>
<script type='text/javascript' src='VismoOptimisations.js'></script>

<script type='text/javascript' src='VismoTransformations.js'></script>
<script type='text/javascript' src='VismoFileUtils.js'></script>
<script type='text/javascript' src='VismoController.js'></script>
<script type='text/javascript' src='VismoCanvasEditor.js'></script>

<style type="text/css">
.VismoCanvasToolbar{
	float:right;
}
textarea {
	width:600px;
	height:300px;
}
.centerMark {
	width:20px;
	height:20px;
	background-color:Purple;
	z-index:11;
}
.button {
	width:25px;
	height:25px;
}
.brResizer {width:10;height:10; background-color:red;}
.selectshape{
	background-image:url(toolbar/select.png);
	background-repeat:no-repeat;
	height:25px	
}
.selected {border:solid 1px black;z-index:10;}
.newcircle{
	background-image:url(toolbar/circle.png);
	background-repeat:no-repeat;
	height:25px
}
.newline{
	background-image:url(toolbar/line.png);
	background-repeat:no-repeat;
	height:30px
}
.newfreeline{
	background-image:url(toolbar/freehand.jpg);
	background-repeat:no-repeat;
	height:30px
}

</style>
<script type='text/javascript'>
var vismoCanvasEditor;
jQuery(document).ready(function(){
	vismoCanvasEditor = new VismoCanvasEditor('xbrowsercanvas',{
		panzoom:true,
		tools: ["selectshape","newcircle","newline","fillshape","save"],
		save: function(textContent){$("#data").text(textContent);},
		dblclick:function(e,s){alert(s.getProperty("id"));}
	});
	loadData();
});

function loadData(){
	var text = $("#data").text();
	vismoCanvasEditor.load(text);
}
</script>
</head>
<body>
<div id='blah'></div>
<div id='xbrowsercanvas' style='width:800px; height:400px; border:solid 1px black;'></div>

<textarea id='data'>
[
	{shape:'circle', id:"1", fill:'rgb(255,0,0)',coordinates:[-40,-40,50]},
	{shape:"path",id:"3",edge:true,from:"1", to:"2",coordinates:[0,0,100,100]},
	{shape:'circle', id:"2", fill:'rgb(0,255,0)',transformation:{translate:{x:300,y:1},scale:{x:2,y:2}},coordinates:[-40,-40,50]}
	
]
</textarea>
delete with backspace or "d" key.
<input type="button" onclick="javascript:loadData()" value='Load drawing'/>

</body>
</html>