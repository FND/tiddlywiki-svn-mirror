<html>
<head>
<title>Cross Browser Graphics Editing using Canvas and VML</title>
<script type='text/javascript' src='jquery.js'></script>
<script type='text/javascript' src='Vismo.js'></script>
 <link rel="stylesheet" href="vismoStyle.css" type="text/css" />
<script type='text/javascript'>
var vismoCanvasEditor;
jQuery(document).ready(function(){
	vismoCanvasEditor = new VismoCanvasEditor('xbrowsercanvas',{
		panzoom:true,
		tools: ["selectshape","newcircle","newline","fillshape","save"],
		save: function(textContent){jQuery("#data").val(textContent);},
		dblclick:function(e,s){if(!s) return;alert(s.getProperty("id"));},
		mouseup: function(e,s){
			if(!s) return;
			var color = s.getProperty("fill");
			s.setProperty("fill","rgb(0,0,0)");
			var f = function(){
				s.setProperty("fill",color);
			}
			window.setTimeout(f,100);
			
		}
	});

	loadData();
});

function loadData(){
	var text = jQuery("#data").val();
	vismoCanvasEditor.load(text);
}
</script>
</head>
<body>
<h1>Cross Browser Graphics Editing using Canvas and VML</h1>
<div id='xbrowsercanvas' style='width:600px; height:400px; border:solid 1px black;'></div>
<div id='rightbar'>
<h2>About me</h2>
I'm a pannable/zoomable drawing application prototype that runs in your browser using just html,css and javascript. I aim to be cross-browser and much more functionable (ie. drawing polygons, bezier curves, support layering, outputting to svg etc etc). I'm a busy html page however and haven't got round to supporting those things yet. I'm aware I'm a little buggy at the moment but I hope you have fun using it and please tell people about me and tell me if I have any bugs (tweet about me and I'll listen if you use the tag #VismoCanvas). If you like me I'll make sure I get better at doing this.
<h3>Extra tips</h3>
If you're using Firefox you should be able to delete elements by right clicking on one and clicking shift+backspace.</p>
<h2>Save and send</h2>
<textarea id='data'>
[{coordinates: [-40,-40,50],shape:'circle',id:'1',lineWidth:'20',fill:'rgb(255,0,0)',stroke:'#000000',transformation:{translate:{x:-15,y:58},scale:{x:1,y:1}}},{coordinates: [-40,-40,50],shape:'circle',id:'2',lineWidth:'10',fill:'rgb(0,255,0)',transformation:{translate:{x:300,y:1},scale:{x:2,y:2}},stroke:'#000000'},{coordinates: [-55,18,260,-39],shape:'path',id:'3',edge:'true',from:'1',to:'2',stroke:'#000000',fill:'undefined',lineWidth:'4'}]
</textarea><input type="button" onclick="javascript:loadData()" value='Load drawing'/>
</div>
</body>
</html>