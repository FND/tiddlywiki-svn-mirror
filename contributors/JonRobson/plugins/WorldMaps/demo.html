<html>
<head>
<script src="ieHack.js" type="text/javascript"></script>
<script src="canvasMaps.js" type="text/javascript"></script>

<script>
var eMap = null;
function init(){
	eMap = new EasyMap('wrapper');
	eMap.scale.x = 2.2;
	eMap.scale.y = 2.2;
	
	var that = eMap;
	var myElement = document.getElementById('caption');
	eMap.mouseoverHandler = function(e,shape){
		that.oldcolor = shape.fillStyle;
		that.oldstrokecolor = shape.strokeStyle;
		shape.fillStyle = "#FFFFFF";
		shape.strokeStyle = "#FFFFFF";
		var el = myElement;
		if(el.style.display == 'none'){
			el.style.position = "absolute";
			el.style.display = "";
			var legal = "";
			if(shape.properties.legality == 1) legal = " (legal)";
			else if(shape..propertieslegality == 0) legal = "(illegal)";
			else legal = "(no data)";
			el.innerHTML = shape.tooltip + legal;
			el.style.left =0;
			el.style.top = 300;

		}	
		that.redrawShape(shape);
	};

	eMap.mouseoutHandler = function(e,shape){
		shape.fillStyle = that.oldcolor;
		shape.strokeStyle = that.oldstrokecolor;
		that.redrawShape(shape);
		myElement.style.display = "none";
	};

	eMap.clickHandler = function(e,shape){
	};
	
	eMap.drawFromGeojsonFile('whereLegal.json');


}

</script>
</head>
<body onload="window.setTimeout(init,0)">
<h1>Countries where homosexual acts are legal/illegal</h1>
<div id='wrapper' style="width:800; height:400;position:relative;">
	<div id ='caption'></div>
	<div id='wrapper_statustext'>please wait while we load... </div>
</div>
<a href="javascript:eMap.zoom(0.1,0.1)">zoom in</a> <a href="javascript:eMap.zoom(-0.1,-0.1)">zoom out</a>


<a href="javascript:eMap.pan(0,-10)">up</a> <a href="javascript:eMap.pan(0,10)">down</a>

<a href="javascript:eMap.pan(-10,0)">left</a> <a href="javascript:eMap.pan(10,0)">right</a>







</body>
</html>