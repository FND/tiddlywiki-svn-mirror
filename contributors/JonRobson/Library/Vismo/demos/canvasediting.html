<html>
<head>
<title>VismoCanvas</title>
<script type='text/javascript' src='jquery.js'></script>
<script type='text/javascript' src='Vismo.js'></script>
 <link rel="stylesheet" href="vismoStyle.css" type="text/css" />
<script type='text/javascript'>
var vismoCanvasEditor;
jQuery(document).ready(function(){
	vismoCanvasEditor = new VismoCanvasEditor('xbrowsercanvas',{
		panzoom:true,
		tools: ["selectshape","newcircle","newline","fillshape","save"],
		save: function(textContent){jQuery("#data").val(textContent);},
		dblclick:function(e,s){if(!s) return;alert(s.getProperty("id"));},
		mouseup: function(e,s){
			if(!s) return;
			var color = s.getProperty("fill");
			s.setProperty("fill","rgb(0,0,0)");
			var f = function(){
				s.setProperty("fill",color);
			}
			window.setTimeout(f,100);
			
		}
	});

	loadData();
});

function loadData(){
	var text = jQuery("#data").val();
	vismoCanvasEditor.load(text);
}
</script>
</head>
<body>
<h1>VismoCanvas</h1>
<h2>Cross Browser Graphics Editing using Canvas and VML</h2>
<div id='xbrowsercanvas' style='width:600px; height:400px; border:solid 1px black;'></div>
<div id='rightbar'>
<h2>About me</h2>
I'm a pannable/zoomable drawing application prototype that runs in your browser using just html, css and javascript. I aim to be cross-browser and much more functionable (ie. drawing polygons, bezier curves, support layering, outputting to svg etc etc). I'm a busy html page however and haven't got round to supporting those things yet. I'm aware I'm a little buggy at the moment but I hope you have fun using it and please tell people about me and tell me if I have any bugs (tweet about me and I'll listen if you use the tag #VismoCanvas). If you like me I'll make sure I get better at doing this.

I use native vml and canvas to do my magic (ie. no googlecanvas).
<h3>Extra tips</h3>
If you're using Firefox you should be able to delete elements by right clicking on one and clicking shift+backspace.</p>
<h2>Save and send</h2>
<textarea id='data'>
[{coordinates: [-40,-40,50],'shape':'circle','id':'1','lineWidth':'20','fill':'rgba(37,203,201,0.9)','stroke':'#000000',transformation:{translate:{x:-15,y:58},scale:{x:2.3,y:2.3}},'z-index':'0'},{coordinates: [-40,-40,50],'shape':'circle','id':'2','lineWidth':'10','fill':'rgba(213,11,129,0.9)',transformation:{translate:{x:414,y:321},scale:{x:0.62,y:0.62}},'stroke':'#000000','z-index':'0'},{coordinates: [-55,18,374,281],'shape':'path','id':'3','edge':'true','from':'1','to':'2','stroke':'#000000','fill':'undefined','lineWidth':'4','z-index':'0'},{coordinates: [26,-136,40],'shape':'circle','fill':'rgba(252,235,84,0.9)','stroke':'#000000','id':'5_0.015932605799539812',transformation:{translate:{x:-2,y:37},scale:{x:4.125,y:4.125}},'z-index':'0'},{coordinates: [144,123,40],'shape':'circle','fill':'rgba(72,213,11,0.9)','stroke':'#000000','id':'6_0.4194220037741273',transformation:{translate:{x:1,y:1},scale:{x:3.275,y:3.275}},'z-index':'0'},{coordinates: [-202,-43,40],'shape':'circle','fill':'rgb(200,0,0)','stroke':'#000000','id':'7_0.7353172598139951','z-index':'0'},{coordinates: [-181,38,40],'shape':'circle','fill':'rgba(214,123,249,0.9)','stroke':'#000000','id':'8_0.05650313411183838',transformation:{translate:{x:-125.5,y:21.5},scale:{x:5.4125,y:5.4125}},'z-index':'0'},{coordinates: [-160,150,40],'shape':'circle','fill':'rgba(0,255,253,1.0)','stroke':'#000000','id':'9_0.08775367467557427',transformation:{translate:{x:-32,y:-287},scale:{x:3.6,y:3.6}},'z-index':'0'},{coordinates: [-44,128,40],'shape':'circle','fill':'rgba(187,249,123,0.9)','stroke':'#000000','id':'10_0.568740937058611',transformation:{translate:{x:22,y:49},scale:{x:2.875,y:2.875}},'z-index':'0'},{coordinates: [-86,-300,40],'shape':'circle','fill':'rgb(200,0,0)','stroke':'#000000','id':'16_0.30056856730867054','z-index':'0',transformation:{translate:{x:258,y:27},scale:{x:1,y:1}}},{coordinates: [336,28,40],'shape':'circle','fill':'rgb(200,0,0)','stroke':'#000000','id':'17_0.4474224082762863','z-index':'0'},{coordinates: [-138,300,40],'shape':'circle','fill':'rgb(200,0,0)','stroke':'#000000','id':'18_0.868940761278674','z-index':'0',transformation:{translate:{x:-384,y:41},scale:{x:1,y:1}}},{coordinates: [-390,-58,40],'shape':'circle','fill':'rgb(200,0,0)','stroke':'#000000','id':'19_0.8159865359547319','z-index':'0',transformation:{translate:{x:-178,y:-255},scale:{x:1,y:1}}},{coordinates: [-154,-137,-137,-72,-115,-140,150,-79,150,-79],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.676351559911475','lineWidth':'5'},{coordinates: [-94,-106,-92,-72,-91,-68,-91,-68],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.676351559911475','lineWidth':'5'},{coordinates: [-58,-104,-74,-100,-78,-91,-68,-83,-59,-77,-59,-70,-82,-68,-82,-68,-82,-68],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.676351559911475','lineWidth':'5'},{coordinates: [-46,-68,-46,-101,-33,-84,-19,-103,-21,-64,-21,-64],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.676351559911475','lineWidth':'5'},{coordinates: [8,-92,1,-97,-10,-96,-11,-68,6,-66,10,-93,10,-93],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.676351559911475','lineWidth':'5'},{coordinates: [-570,338],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.9338570257395464','lineWidth':'7'},{coordinates: [-568,-313,-522,341],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.9338570257395464','lineWidth':'7','from':'19_0.8159865359547319','to':'18_0.868940761278674'},{coordinates: [-522,341,374,281],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.9338570257395464','lineWidth':'7','from':'18_0.868940761278674','to':'2'},{coordinates: [374,281,172,-273],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.9338570257395464','lineWidth':'7','from':'2','to':'16_0.30056856730867054'},{coordinates: [172,-273,-568,-313],'shape':'path','z-index':'999999','stroke':'#000000','id':'1_0.9338570257395464','lineWidth':'7','from':'16_0.30056856730867054','to':'19_0.8159865359547319'}]
</textarea><input type="button" onclick="javascript:loadData()" value='Load drawing'/>
</div>
</body>
</html>